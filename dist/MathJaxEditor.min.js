!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MathJaxEditor=t():e.MathJaxEditor=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),o=i(s),u=n(7),l=i(u);window.addEventListener("load",l.default);var d=function(){function e(t){r(this,e);var n=new o.default(t);this.core=n,this.version="1.2.13"}return a(e,[{key:"blur",value:function(){this.core.blur()}},{key:"focus",value:function(){this.core.focus()}},{key:"insertCommand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.core.insertCommand(e,t,n)}},{key:"insert",value:function(e){this.core.insert(e)}},{key:"insertSymbol",value:function(e){this.core.insertSymbol(e)}},{key:"getValue",value:function(){return this.core.value}},{key:"moveCursorLeft",value:function(){this.core.moveCursorLeft()}},{key:"moveCursorRight",value:function(){this.core.moveCursorRight()}},{key:"erase",value:function(){this.core.erase()}},{key:"on",value:function(e,t){this.core.on(e,t)}}]),e}();e.exports=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),o=i(s),u=n(3),l=i(u),d=n(4),c=i(d),h=n(6),f=i(h),m=n(5),p=f.default.supOrSub,v=8,y=13,b=37,x=39,g=46,k=function(){function e(t){var n=this;r(this,e);var i=t.el,a=t.debug,s=void 0!==a&&a,u=t.focusClass,l=void 0===u?"isFocused":u,d=t.newLine,h=void 0!==d&&d,f=t.value,p=void 0===f?"":f,v=t.scroll,y=void 0!==v&&v,b=MathJax.HTML.Element,x=(0,m.mustFindElement)(i,"textarea"),g=b("div",{className:"mj-ed-container"}),k=b("input",{className:"mj-ed-input"}),C=b("div",{className:"mj-ed-display"},["\\({\\cursor}"+p+"\\)"]),w=b("pre",{className:"mj-ed-debug"},["|"]);x.parentNode.insertBefore(g,x.nextSibling),g.appendChild(k),g.appendChild(C),g.appendChild(w),k.addEventListener("keydown",this.handleInputEvent.bind(this)),k.addEventListener("keyup",this.handleInputEvent.bind(this)),k.addEventListener("blur",this.blur.bind(this)),C.addEventListener("click",this.focus.bind(this)),document.body.addEventListener("click",this.handleBodyClick.bind(this)),C.style.opacity=0,C.style.overflowX=y?"scroll":"hidden",w.style.display=s?"block":"none",x.style.display="none",MathJax.Hub.Queue(function(){return MathJax.Hub.Typeset(C)},function(){return n.jaxElement=MathJax.Hub.getAllJax(C)[0]},function(){C.style.opacity=1,C.style.minHeight=C.offsetHeight+"px",n.update({cursorHidden:!0})}),this.$container=g,this.$debug=w,this.$display=C,this.$input=k,this.$el=x,this.bus=new o.default,this.cursorIndex=0,this.lastCursorTimeout=null,this.placer=null,this.debug=s,this.focusClass=l,this.newLine=h,this.tex=new c.default(p,0),this.value=p}return a(e,[{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.cursorIndex,i=this.value,r=new c.default(i,n);this.tex=r,this.debug&&(this.$debug.innerHTML=(0,m.insertBetween)(i,n,"|")),this.$el.innerHTML=i,this.updateJaxElement(r.displayTex,function(){setTimeout(function(){var t=new l.default(e);t.on("setCursor",function(t){e.debug&&console.info("The cursor should be placed at "+t+"."),e.cursorIndex=t,e.update()}),e.placer=t},16),e.updateCursorElement(t)})}},{key:"updateJaxElement",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Function;MathJax.Hub.Queue(function(){return t.jaxElement.Text(e)},n)}},{key:"updateCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.cursorIndex,n=this.tex.cursorPoints,i=n.indexOf(t),r=t;e>0?r=n[i+1]:e<0&&(r=n[i-1]),this.cursorIndex=r,this.update()}},{key:"updateCursorElement",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.$display,i=t.cursorHidden||!1,r="wasRecentlyPlaced";MathJax.Hub.Queue(function(){var t=n.querySelector(".mjx-cursor");if(t){var a=t.offsetWidth,s=t.offsetLeft;t.style.marginLeft||(t.style.marginLeft="-"+a+"px"),e.lastCursorTimeout&&clearTimeout(e.lastCursorTimeout),(0,m.addClass)(t,r),e.lastCursorTimeout=setTimeout(function(){return(0,m.removeClass)(t,r)},600),n.scrollLeft=s,t.style.display=i?"none":"inline-block"}})}},{key:"setValue",value:function(e){this.value=e}},{key:"handleInputEvent",value:function(e){var t=this,n=this.$input,i=f.default.number,r=f.default.variable,a=f.default.charToCommand,s=f.default.operators,o=f.default.escapedOperators,u=n.value.trim(),l=e.keyCode;return n.value="","keyup"===e.type&&(l=null),u.length?void u.split("").forEach(function(e){return e.match(i)||e.match(r)?t.insert(e):a.hasOwnProperty(e)?t.insertCommand(a[e]):(0,m.inArray)(e,s.concat(o))?t.insertSymbol(e):void 0}):this.handleKeyPress(l)}},{key:"handleKeyPress",value:function(e){switch(e){case b:return void this.moveCursorLeft();case x:return void this.moveCursorRight();case v:return void this.erase();case g:return void this.delete();case y:return void(this.newLine&&this.insert("\\\\"))}e&&this.debug&&console.warn("The key "+e+" was pressed.")}},{key:"moveCursorLeft",value:function(){this.cursorIndex>0&&this.updateCursor(-1)}},{key:"moveCursorRight",value:function(){this.cursorIndex<this.value.length&&this.updateCursor(1)}},{key:"handleBodyClick",value:function(e){this.placer&&this.placer.trigger("click",e)}},{key:"focus",value:function(){this.$input.focus(),this.updateCursorElement({cursorHidden:!1}),this.bus.trigger("focus"),(0,m.addClass)(this.$display,this.focusClass)}},{key:"blur",value:function(){this.$input.blur(),this.updateCursorElement({cursorHidden:!0}),this.bus.trigger("blur"),(0,m.removeClass)(this.$display,this.focusClass)}},{key:"insert",value:function(e){var t=this.cursorIndex,n=this.value;this.cursorIndex+=e.length,this.setValue((0,m.insertBetween)(n,t,e)),this.update()}},{key:"insertChar",value:function(e){var t=f.default.number,n=f.default.variable;if(1!==e.length)throw new RangeError("Only one char can be inserted through this method.");if(!e.match(t)&&!e.match(n))throw new RangeError('Only numbers and variables are allowed in insert, not "'+e+'".');this.insert(e)}},{key:"insertSymbol",value:function(e){var t=f.default.operators,n=f.default.escapedOperators,i=t.slice().concat(n);if(!(0,m.inArray)(e,i))throw new RangeError('"'+e+'" is not a valid symbol.');(0,m.inArray)(e,n)&&(e="\\"+e),this.insert(e)}},{key:"insertCommand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.focus(),"\\"===e[0]||(0,m.inArray)(e,p)||(e="\\"+e),n&&(e+="[]"),e+=t>0?"{":" ",this.insert(e),!(t<1)){var i=this.value,r=this.cursorIndex,a="}"+(0,m.repeat)("{}",t-1);this.setValue((0,m.insertBetween)(i,r,a)),this.update()}}},{key:"applyDeletion",value:function(e){var t=this.cursorIndex,n=this.tex,i=t-1,r=n.elements,a=null,s=null,o=void 0,u=void 0,l=void 0,d=void 0,c=void 0;switch(e){case"erase":if(0===t)return;o=i,u="end",l="openIndex",d=i,c=t;break;case"delete":if(t===n.length)return;o=t,u="start",l="closeIndex",d=t,c=t+1;break;default:throw new RangeError('Unknown method "'+e+'".')}if(n.newLines[o]){var h=n.newLines[o];a=h.start,s=h.end+1}else{var f=!0,p=!1,v=void 0;try{for(var y,b=r[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var x=y.value,g=x.index,k=x.props;if(k){var C=k.brackets;if(k[u]===o||C&&C[l]===o){a=k.start,s=k.end+1;break}if(!k.blocks)continue;var w=!0,T=!1,E=void 0;try{for(var I,j=k.blocks[Symbol.iterator]();!(w=(I=j.next()).done);w=!0){var O=I.value;if(O[l]===o){a=k.start,s=k.end+1;break}}}catch(e){T=!0,E=e}finally{try{!w&&j.return&&j.return()}finally{if(T)throw E}}}else if(g===o){a=d,s=c;break}}}catch(e){p=!0,v=e}finally{try{!f&&b.return&&b.return()}finally{if(p)throw v}}}this.cursorIndex=a,this.setValue((0,m.removeFragment)(this.value,a,s)),this.update()}},{key:"erase",value:function(){this.applyDeletion("erase")}},{key:"delete",value:function(){this.applyDeletion("delete")}},{key:"on",value:function(e,t){this.bus.on(e,t)}}]),e}();t.default=k},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){n(this,e),this.registry={}}return i(e,[{key:"on",value:function(e,t){this.registry[e]=(this.registry[e]||[]).concat(t)}},{key:"trigger",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.registry[e]&&this.registry[e].forEach(function(e){return e.apply(void 0,n)})}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),u=i(o),l=[],d=function(){function e(t){r(this,e);var n=new u.default;n.on("click",this.handleClick.bind(this)),this.$display=t.$display,this.bus=n,this.intervals=[],this.elements=t.tex.elements,this.findings={},this.tex=t.tex,this.iterate()}return s(e,[{key:"on",value:function(e,t){this.bus.on(e,t)}},{key:"trigger",value:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.bus).trigger.apply(t,[e].concat(i))}},{key:"handleClick",value:function(e){var t=this,n=this.$display.getBoundingClientRect(),i=n.top,r=n.bottom,s=e.clientX,o=e.clientY,u=this.intervals,l=this.tex.length;if(!u.length||o>r||o<i)return!1;var d=!1,c=!0;if(u.forEach(function(e,n){e.startX<=s&&s<e.endX&&c&&e.startY<=o&&o<e.endY&&(d=!0,l=t.placeAtInterval(e,n,s),e.box&&(c=!1))}),!d){var h=function(){var e={interval:null,distance:null,i:null};return u.forEach(function(t,n){if(t.startY<o&&o<t.endY){var i=Math.min(Math.abs(t.startX-s),Math.abs(t.endX-s));(null===e.distance||i<e.distance)&&(e.interval=t,e.distance=i,e.i=n)}}),e.interval?void(l=t.placeAtInterval(e.interval,e.i,s,o)):{v:!1}}();if("object"===("undefined"==typeof h?"undefined":a(h)))return h.v}this.bus.trigger("setCursor",l)}},{key:"getNextKeyFor",value:function(e){this.findings[e]=this.findings[e]||0;var t=this.findings[e];return this.findings[e]+=1,t}},{key:"addIntervalAt",value:function(e,t){this.intervals.splice(e,0,t)}},{key:"addInterval",value:function(e){Number.isNaN(e.index)&&console.error("An interval has NaN as index."),this.intervals.push(e)}},{key:"addIntervalBox",value:function(e,t){var n=t.top,i=t.bottom,r=t.left,a=t.right;this.addInterval({index:e,startX:r,endX:a,startY:n,endY:i,box:!0})}},{key:"addBouncinglessInterval",value:function(e){this.addInterval({index:e,top:0,bottom:0,left:0,right:0})}},{key:"placeAtInterval",value:function(e,t,n){var i=this.intervals,r=e.endX-e.startX,a=t+1,s=e.index;return e.box?s:(n>e.startX+r/2&&(s=i[a]?i[a].index:this.tex.length),s)}},{key:"iterate",value:function(){var e=this;this.elements.forEach(function(t){switch(t.is){case"command":e.findCommand(t);break;case"eol":e.findEndOfLine(t);break;default:e.find(t)}})}},{key:"find",value:function(e){var t=e.type,n=e.index,i=e.nearClosure,r=this.getNextKeyFor(t),a=this.$display.querySelectorAll(".mjx-"+t)[r];if(!a)return console.warn("Could not find an element of type "+t+".",n);var s=a.getBoundingClientRect(),o=s.left,u=s.right,l=s.top,d=s.bottom;this.addInterval({startX:o,endX:u,startY:l,endY:d,index:n}),i&&this.addBouncinglessInterval(n+1)}},{key:"findCommand",value:function(e){var t=this,n=e.type,i=e.props,r=this.getNextKeyFor(n),a=this.$display.querySelectorAll(".mjx-m"+n)[r],s=i.brackets,o=i.blocks,u=i.subType;switch(this.addBouncinglessInterval(i.start),n){case"frac":var l=a.querySelector(".mjx-numerator"),d=a.querySelector(".mjx-denominator"),c=l.getBoundingClientRect(),h=d.getBoundingClientRect(),f=[c,h];f.forEach(function(e,n){1===o[n].length&&t.addIntervalBox(o[n].closeIndex,e)});break;case"root":case"sqrt":if(s&&s.closeIndex-s.openIndex===1){var m=a.querySelector(".mjx-root .mjx-char"),p=m.getBoundingClientRect();this.addIntervalBox(s.closeIndex,p)}if(1===o[0].length){var v=a.querySelector(".mjx-box"),y=v.getBoundingClientRect();this.addIntervalBox(o[0].closeIndex,y)}break;case"subsup":if(1===o[0].length){var b=a.querySelector(".mjx-"+u),x=b.getBoundingClientRect();this.addIntervalBox(o[0].closeIndex,x)}}}},{key:"findEndOfLine",value:function(e){var t=e.type,n=e.index,i=this.getNextKeyFor(t),r=this.$display.querySelectorAll(".mjx-"+t)[i];r||(r=this.$display.querySelector(".mjx-math"));var a=r.firstChild,s=a.getBoundingClientRect(),o=s.top,u=s.left,l=s.bottom,d=s.right,c=20,h=this.findLastStartOfLineIndex();this.addIntervalAt(h.intervalKey,{index:h.start,startX:u-c,endX:u,startY:o,endY:l,box:!0}),this.addInterval({index:n,startX:d,endX:d+c,startY:o,endY:l,box:!0})}},{key:"findLastStartOfLineIndex",value:function(){for(var e=this.intervals.slice().reverse(),t=e.length,n=0,i=0,r=0;n<t;n++){var a=e[n];if("eol"===a.is){i=a.index+2,r=n;break}}return{start:i,intervalKey:r}}},{key:"paint",value:function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.backgroundColor="rgba(0, 0, 255, 0.5)",t.style.width=e.endX-e.startX+"px",t.style.height=e.endY-e.startY+"px",t.style.top=e.startY+"px",t.style.left=e.startX+"px",t.style.pointerEvents="none",document.body.appendChild(t),t}},{key:"paintIntervals",value:function(){var e=this;l.forEach(function(e){return document.body.removeChild(e)}),l=[],this.intervals.forEach(function(t){l.push(e.paint(t))}),console.log(this.intervals)}}]),e}();t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),o=n(6),u=i(o),l=u.default.nearClosureHaystack,d=u.default.supOrSub,c=u.default.cursorTex,h=u.default.emptyTex,f=u.default.escType,m=u.default.spacingTex,p=u.default.relationCommands,v={isNumber:u.default.number,isVariable:u.default.variable,isOperator:(0,s.listToCharacterRegex)(u.default.operators),isEscapedOperator:(0,s.listToCharacterRegex)(u.default.escapedOperators)},y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.tex=t,this.cursorPoints=[],this.elements=[],this.newLines={},this.length=t.length,this.displayTex="",this.cursorIndex=n,this.isPartOfCommand={},this.parse()}return a(e,[{key:"addCursorToTexDisplay",value:function(e){this.cursorPlaced||this.cursorIndex!==e||(this.cursorPlaced=!0,this.displayTex+=c)}},{key:"parse",value:function(){var e=[],t=this.tex,n=this.tex.length,i=0;for(this.cursorPlaced=!1;i<n;i++){var r=i,a=i+1,o=t[r],u=t[a],c=t[r-1],p=(0,s.inArray)(u,l),y=","===o,b=(0,s.inArray)(o,["<",">"]),x=v.isNumber.exec(o),g=v.isVariable.exec(o),k=v.isOperator.exec(o),C=v.isEscapedOperator.exec(u),w=y||x||b;if(this.addCursorToTexDisplay(r),(w||this.isRelationCommand(r))&&(this.displayTex+="{"),"}"===o&&"\\"!==c&&(this.isPartOfCommandThatStartsWith(r,d)||(this.displayTex+=m)),this.displayTex+=o,w&&(this.displayTex+="}"),x&&this.elements.push({is:"number",type:"mn",index:r,nearClosure:p}),g&&this.elements.push({is:"variable",type:"mi",index:r,nearClosure:p}),k&&!this.isPartOfCommand.hasOwnProperty(r)&&this.elements.push({is:"operator",type:"mo",index:r,nearClosure:p}),"\\"===o&&C){var T=f[u]?f[u]:"mo";this.elements.push({is:"operator",type:T,index:r,nearClosure:p,props:{start:r,end:a}}),this.displayTex+=u,i+=1}if("\\"===o&&"\\"===u){var E={start:r,end:a};this.newLines[r]=E,this.newLines[a]=E,this.displayTex+="\\",this.elements.push({is:"eol",type:"block",index:r}),i+=1}"\\"===o&&v.isVariable.exec(u)&&(i=this.parseCommand(i)),(0,s.inArray)(o,d)&&(i=this.parseCommand(i)),"{"!==o?" "!==o&&e.push(r):"}"===u?(this.addCursorToTexDisplay(a),this.displayTex+=h):this.isPartOfCommandThatStartsWith(r,d)||(this.displayTex+=m)}n&&this.elements.push({is:"eol",type:"block",index:n}),this.addCursorToTexDisplay(n),e.push(n),this.cursorPoints=e}},{key:"parseCommand",value:function(e){var t=e,n=this.tex,i=this.tex.length,r=n[t],a={firstChar:r},o=null,u=[],c=null,f=0,y="",b=null,x="command",g=t,k=null,C=!1;switch(r){case"^":y="subsup",b="sup";break;case"_":y="subsup",b="sub"}for(e=t;e<i;e++){var w=n[e],T=e+1,E=n[T],I=v.isVariable.exec(w);if(null===o&&(this.displayTex+=(0,s.inArray)(w,["\\","^","_"])?"":w,I&&(y+=w)),"["===w&&(c={openIndex:e},null===o&&(o=e),"]"===E&&(this.displayTex+=h)),"]"===w&&(c.closeIndex=e,this.isPartOfCommand[e]=a),"{"===w&&(0===f&&(u.push({openIndex:e}),this.isPartOfCommand[e]=a),f+=1,null===o&&(o=e,(0,s.inArray)(r,d)||(this.displayTex+=m),this.addCursorToTexDisplay(T),"}"===E&&(this.displayTex+=h))),"}"===w&&(f-=1,0===f)){var j=u.length-1;u[j].closeIndex=e,u[j].length=e-u[j].openIndex,this.isPartOfCommand[e]=a}if(null===o&&" "===w){var O=(0,s.inArray)(y,p);y=this.decideType(y),x="mo"===y?"operator":"variable",k=e,o=e,(0,s.inArray)(E,l)&&(C=!0),O&&(this.displayTex+="}");break}if("}"===w&&"{"!==E&&0===f){k=e;break}}if("sqrt"===y&&null!==c&&(y="root"),null===o)throw new SyntaxError("Looks like this TeX is invalid. Now have a hard time finding where, lul.");return this.elements.push({is:x,type:y,index:t,nearClosure:C,props:{subType:b,start:g,end:k,opening:o,blocks:u,brackets:c}}),o}},{key:"decideType",value:function(e){var t={alpha:"mi",beta:"mi",gamma:"mi",Gamma:"mi",delta:"mi",Delta:"mi",epsilon:"mi",varepsilon:"mi",zeta:"mi",eta:"mi",theta:"mi",vartheta:"mi",Theta:"mi",iota:"mi",kappa:"mi",lambda:"mi",mu:"mi",nu:"mi",xi:"mi",Xi:"mi",pi:"mi",Pi:"mi",rho:"mi",varrho:"mi",sigma:"mi",Sigma:"mi",tau:"mi",upsilon:"mi",Upsilon:"mi",phi:"mi",varphi:"mi",Phi:"mi",chi:"mi",psi:"mi",Psi:"mi",omega:"mi",Omega:"mi","%":"mi"};return t.hasOwnProperty(e)?t[e]:"mo"}},{key:"isPartOfCommandThatStartsWith",value:function(e,t){var n=this.isPartOfCommand[e];return!!n&&(0,s.inArray)(n.firstChar,t)}},{key:"isRelationCommand",value:function(e){var t=this.tex,n=t.length;if("\\"===t[e]){for(var i=e+1,r="";i<n;i++){var a=t[i];if(!v.isVariable.exec(a)&&" "!==a)return!1;if(" "===a)return(0,s.inArray)(r,p);r+=a}return!1}}}]),e}();t.default=y},function(e,t){"use strict";function n(e,t){var n=new Error("You must define a target element.");if(!e)throw n;if("string"==typeof e&&(e=document.querySelector(e),!e))throw n;if(e.tagName.toLowerCase()!==t.toLowerCase())throw new Error("The target element must be <"+t+">.");return e}function i(e,t,n){var i=e.slice(0,t),r=e.slice(t);return i+n+r}function r(e,t){var n=e.className.split(" "),i="",r=!0,a=!1,s=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var l=o.value;l!==t&&(i+=" "+l)}}catch(e){a=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw s}}e.className=i.trim()}function a(e,t){var n=e.className.split(" ");~n.indexOf(t)||(e.className+=" "+t),e.className=e.className.trim()}function s(e){var t=[].slice;return t.call(e)}function o(e,t){return!!~t.indexOf(e)}function u(e,t){for(var n="",i=e+e,r=t%2!==0,a=Math.floor(t/2),s=0;s<a;s++)n+=i;return r&&(n+=e),n}function l(e,t,n){return e.slice(0,t)+e.slice(n)}function d(e){var t=e.map(function(e){return"\\"+e}).join("");return new RegExp("^["+t+"]$")}Object.defineProperty(t,"__esModule",{value:!0}),t.mustFindElement=n,t.insertBetween=i,t.removeClass=r,t.addClass=a,t.toArray=s,t.inArray=o,t.repeat=u,t.removeFragment=l,t.listToCharacterRegex=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cursorTex:"{\\cursor}",emptyTex:"\\isEmpty",spacingTex:"\\;",number:/^[0-9]$/,variable:/^[a-zA-Z]$/,nearClosureHaystack:["}","]"],supOrSub:["^","_"],operators:["+","-","=","<",">",",",".",":",";","?","(",")","[","]","|"],escapedOperators:["{","}","%"],escType:{"%":"mi"},charToCommand:{"*":"cdot","/":"div"},relationCommands:["geq","leq","ll","gg","doteq","equiv","approx","cong","simeq","sim","propto","neq","subset","subseteq","nsubseteq","sqsubset","sqsubseteq","preceq","supset","supseteq","nsupseteq","sqsupset","sqsupseteq","succeq"]}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=MathJax.InputJax.TeX,t=MathJax.ElementJax.mml;MathJax.Hub.processSectionDelay=0,MathJax.Hub.Register.StartupHook("TeX Jax Ready",function(){var n={mathvariant:t.INHERIT,mathsize:t.INHERIT,mathbackground:t.INHERIT,mathcolor:t.INHERIT,dir:t.INHERIT};e.Definitions.Add({macros:{cursor:"Cursor",isEmpty:"IsEmpty"}},null,!0),t.mcursor=t.mbase.Subclass({type:"cursor",isToken:!0,isSpacelike:function(){return!0},texClass:t.TEXCLASS.ORD,defaults:n}),t.misEmpty=t.mbase.Subclass({type:"isEmpty",isToken:!0,isSpacelike:function(){return!0},texClass:t.TEXCLASS.ORD,defaults:n}),e.Parse.Augment({Cursor:function(){var e=t.mcursor("0");this.Push(e)},IsEmpty:function(){var e=t.misEmpty("?");this.Push(e)}})}),MathJax.Ajax.Styles(s.default)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(8),s=i(a)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="from, to { border-color: #000 }\n 50% { border-color: transparent }";t.default={".mjx-cursor":{"-webkit-animation":"1s mj-ed-blink step-end infinite","-moz-animation":"1s mj-ed-blink step-end infinite","-ms-animation":"1s mj-ed-blink step-end infinite","-o-animation":"1s mj-ed-blink step-end infinite",animation:"1s mj-ed-blink step-end infinite","border-right":"2px solid #000",color:"transparent"},".mjx-cursor.wasRecentlyPlaced":{"border-right-color":"#000 !important"},".mj-ed-input":{left:"-100%",position:"absolute",top:"-100%"},".mj-ed-display":{"box-sizing":"border-box",cursor:"text","overflow-Y":"overflow"},".mj-ed-display *":{outline:"none"},".mj-ed-selectionButton":{cursor:"text"},".mjx-isEmpty":{color:"#ccc"},"@keyframes mj-ed-blink":n,"@-moz-keyframes mj-ed-blink":n,"@-webkit-keyframes mj-ed-blink":n,"@-ms-keyframes mj-ed-blink":n,"@-o-keyframes mj-ed-blink":n}}])});